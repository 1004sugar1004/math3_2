# 🎯 v3.11 - 제한 최적화 업데이트

## 📅 업데이트 날짜
2025년 1월 13일

## 🎮 사용자 요청사항

### 요청 1: "한명당 던지기 횟수 1-5로 제한해줘"
**이유**: 교육 현장에서 적절한 시간 배분과 집중도 유지

### 요청 2: "그래프는 최대 30개까지 그릴 수 있도록 행을 만들어줘"
**이유**: 화면 크기와 가독성을 고려한 적정 범위

---

## ✅ 구현 완료!

### 1️⃣ 던지기 횟수 제한: 1~5개
- ✅ HTML 입력 필드: `min="1" max="5"`
- ✅ 기본값: 5개
- ✅ JavaScript 검증: 1~5 범위 강제
- ✅ 초과 입력 시 자동 조정

### 2️⃣ 그래프 최대 제한: 30개 (3행)
- ✅ 한 행당 10개
- ✅ 최대 3행까지만 생성
- ✅ 입력 필드 max="30"
- ✅ 눈금 라벨: 1~10, 11~20, 21~30

---

## 📊 그래프 구조

### 3행 구조 (최대 30개)
```
┌──────┬──────────────────────┐
│      │ 1  2  3  4  5  6  7  8  9  10 │
│      ├──────────────────────┤
│희망  │ 🎒🎒🎒🎒🎒🎒🎒🎒🎒🎒    │ ← 1~10
│      ├──────────────────────┤
│      │ 11 12 13 14 15 16 17 18 19 20 │
│      ├──────────────────────┤
│      │ 🎒🎒🎒🎒🎒🎒🎒🎒🎒🎒    │ ← 11~20
│      ├──────────────────────┤
│      │ 21 22 23 24 25 26 27 28 29 30 │
│      ├──────────────────────┤
│      │ 🎒🎒🎒🎒🎒🎒🎒🎒🎒🎒    │ ← 21~30 (최대)
└──────┴──────────────────────┘
```

---

## 🎓 교육적 합리성

### 던지기 횟수 1~5개의 장점

#### 1. 적절한 수업 시간
```
4개 모둠 × 3명 × 5개 = 60번 던지기
→ 약 15~20분 소요 (적정)

vs 이전 (10개):
4개 모둠 × 3명 × 10개 = 120번 던지기
→ 약 30~40분 소요 (과다)
```

#### 2. 집중력 유지
- 5개 이하: 학생들이 끝까지 집중
- 10개 이상: 중간에 지루해질 수 있음

#### 3. 타이밍 연습 충분
- 5번이면 타이밍 감각 익히기 충분
- 너무 많으면 단순 반복 작업

#### 4. 데이터 분석 용이
- 5개 × 3명 = 15개 정도가 그래프 분석에 적정
- 30개 이상은 오히려 복잡

### 그래프 30개 제한의 장점

#### 1. 화면 가독성
- 3행까지: 한 화면에 모두 표시
- 4행 이상: 스크롤 필요, 가독성 저하

#### 2. 인지 부담 감소
- 30개 이하: 초등 3학년이 세기 쉬움
- 40개 이상: 수를 세는 것 자체가 부담

#### 3. 십진법 학습 최적
```
1~10: 1의 자리
11~20: 십의 자리 (10)
21~30: 십의 자리 (20)
→ 3행이면 십진법 개념 충분!
```

#### 4. 실제 게임 범위와 일치
```
최대 게임 점수 계산:
- 8개 모둠
- 6명씩
- 5개씩 던지기
- 난이도 쉬움 (80%)

= 8 × 6 × 5 × 0.8 = 192개 전체
→ 한 모둠당 평균 24개 (3행 이내)
```

---

## 🔧 코드 변경사항

### 1. HTML (index.html)
```html
<!-- 이전 -->
<input type="number" id="bagsPerPlayer" min="1" max="10" value="5">
<span class="help-text">1 ~ 10개</span>

<!-- v3.11 -->
<input type="number" id="bagsPerPlayer" min="1" max="5" value="5">
<span class="help-text">1 ~ 5개</span>
```

### 2. JavaScript (js/game.js)

#### 게임 시작 검증
```javascript
function startGame() {
    gameConfig.bagsPerPlayer = Math.min(5, Math.max(1, parseInt(elements.bagsPerPlayer.value))); // 1~5로 제한
    
    // 던지기 횟수 검증
    if (gameConfig.bagsPerPlayer < 1 || gameConfig.bagsPerPlayer > 5) {
        alert('던지기 횟수는 1~5개 사이여야 합니다.');
        return;
    }
}
```

#### 그래프 초기화
```javascript
function initGraphWorkspace() {
    const cellsPerRow = 10;
    const maxRowsAllowed = 3; // 최대 3행 제한!
    
    gameState.teams.forEach((team, teamIndex) => {
        const teamScore = team.score;
        
        // 필요한 행 수 계산 (최대 3행)
        const rowsNeeded = Math.min(maxRowsAllowed, Math.max(1, Math.ceil(teamScore / cellsPerRow)));
        
        // 입력 필드 최대값 30
        <input type="number" max="30" ...>
    });
    
    // 눈금 라벨도 최대 3행
    const maxRows = Math.min(maxRowsAllowed, Math.max(...gameState.teams.map(team => 
        Math.max(1, Math.ceil(team.score / cellsPerRow))
    )));
}
```

---

## 📊 실제 게임 시나리오

### 시나리오 1: 표준 수업 (20분)
```
설정:
- 4개 모둠
- 3명씩
- 5개씩 던지기
- 난이도: 보통 (60%)

예상 점수:
- 각 모둠당 9개 (3명 × 5개 × 60%)
- 1행으로 충분

그래프:
┌──────┬──────────────────────┐
│희망  │ 🎒🎒🎒🎒🎒🎒🎒🎒🎒     │ 9개
│미래  │ 🎒🎒🎒🎒🎒🎒🎒         │ 7개
│최강  │ 🎒🎒🎒🎒🎒🎒🎒🎒🎒🎒   │ 10개
│사랑  │ 🎒🎒🎒🎒🎒🎒🎒🎒       │ 8개
└──────┴──────────────────────┘
```

### 시나리오 2: 대규모 수업 (30분)
```
설정:
- 8개 모둠
- 5명씩
- 5개씩 던지기
- 난이도: 쉬움 (80%)

예상 점수:
- 각 모둠당 20개 (5명 × 5개 × 80%)
- 2행 필요

그래프:
┌──────┬──────────────────────┐
│희망  │ 🎒🎒🎒🎒🎒🎒🎒🎒🎒🎒    │ 1~10
│      │ 🎒🎒🎒🎒🎒🎒🎒🎒🎒🎒    │ 11~20
├──────┼──────────────────────┤
... (8개 모둠, 2행씩)
└──────┴──────────────────────┘
```

### 시나리오 3: 최대 활용 (45분)
```
설정:
- 8개 모둠
- 6명씩
- 5개씩 던지기
- 난이도: 쉬움 (80%)

예상 점수:
- 각 모둠당 24개 (6명 × 5개 × 80%)
- 3행 필요 (21~30 범위)

그래프:
┌──────┬──────────────────────┐
│희망  │ 🎒🎒🎒🎒🎒🎒🎒🎒🎒🎒    │ 1~10
│      │ 🎒🎒🎒🎒🎒🎒🎒🎒🎒🎒    │ 11~20
│      │ 🎒🎒🎒🎒               │ 21~24 (3행 활용)
└──────┴──────────────────────┘
```

---

## ⚠️ 제한 이유 요약

### 던지기 1~5개
1. ✅ 수업 시간 최적화 (15~30분)
2. ✅ 학생 집중력 유지
3. ✅ 타이밍 연습 충분
4. ✅ 데이터 분석 용이

### 그래프 최대 30개 (3행)
1. ✅ 화면 가독성 (한 화면에 표시)
2. ✅ 인지 부담 감소 (세기 쉬움)
3. ✅ 십진법 학습 최적 (10, 20, 30)
4. ✅ 실제 게임 범위와 일치

---

## 🎯 변경 전후 비교

| 항목 | v3.10 이전 | v3.11 |
|------|-----------|-------|
| 던지기 횟수 | 1~10개 | **1~5개** |
| 그래프 최대 | 무제한 | **30개 (3행)** |
| 수업 시간 | 20~40분 | **15~30분** |
| 가독성 | 4행+ 스크롤 | **3행 이내** |
| 집중도 | 중간에 저하 | **끝까지 유지** |
| 학습 효과 | 데이터 과다 | **적정 범위** |

---

## 🎓 교육 현장 권장 설정

### 초등 3학년 표준
```
모둠: 4개
인원: 3명
던지기: 5개
난이도: 보통
→ 평균 9개 (1행)
→ 수업 시간 20분
```

### 대규모 학급
```
모둠: 6개
인원: 5명
던지기: 5개
난이도: 쉬움
→ 평균 20개 (2행)
→ 수업 시간 30분
```

### 심화 학습
```
모둠: 8개
인원: 6명
던지기: 5개
난이도: 쉬움
→ 평균 24개 (3행 활용)
→ 수업 시간 45분
```

---

## 🎉 최종 결과

### ✅ v3.11 완성!

**제한 최적화**:
- [x] 던지기 1~5개 제한 🆕
- [x] 그래프 최대 30개 (3행) 🆕
- [x] HTML 입력 검증 🆕
- [x] JavaScript 범위 강제 🆕
- [x] 교육적 합리성 확보 🆕

**이전 버전 (모두 유지)**:
- [x] v3.10 다중 행 자동 생성
- [x] v3.9 완벽한 물리 엔진
- [x] v3.8 명확한 숫자 입력
- [x] v3.7 스피너 버튼
- [x] v3.6~v3.2 모든 기능

---

## 💡 사용 팁

### 시간이 부족할 때
- 던지기 횟수: 3개
- 빠른 진행, 핵심만 학습

### 표준 수업
- 던지기 횟수: 5개 (권장)
- 가장 균형잡힌 설정

### 심화 수업
- 던지기 횟수: 5개
- 모둠/인원 늘려서 데이터 확장

---

**v3.11 - 제한 최적화 완성!** 🎯⏱️📊

**교육 현장에 최적화된 합리적인 제한!** 🎓✨

---

**Made with ❤️ for Optimal Learning**
